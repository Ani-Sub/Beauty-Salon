document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelectorAll(".category-btn"),t=document.querySelectorAll(".gallery-item"),l=document.querySelectorAll(".nav-links a"),a=document.querySelectorAll(".footer-links a");document.querySelectorAll(".gallery-item img").forEach((e=>{e.onerror=function(){this.src="../pictures/placeholder.jpg",console.warn("Failed to load image:",this.alt)},e.loading="lazy"}));const o=window.location.pathname.split("/").pop()||"index.html";function c(e){return e===o||""===o&&"index.html"===e||"Gallery.html"===o&&"Gallery.html"===e}l.forEach((e=>{c(e.getAttribute("href"))&&e.classList.add("active")})),a.forEach((e=>{if(c(e.getAttribute("href"))){const t=e.querySelector("h4");t&&(t.style.color="#F5F6F0")}}));let i=null;e.forEach((l=>{l.addEventListener("click",(function(){var l;e.forEach((e=>e.classList.remove("active"))),this.classList.add("active"),l=this.dataset.category,t.forEach((e=>{"all"===l||e.classList.contains(l)?(e.style.display="block",setTimeout((()=>{e.classList.add("visible")}),50)):(e.classList.remove("visible"),setTimeout((()=>{e.style.display="none"}),400))}))}))})),t.forEach((e=>{e.style.display="block",e.classList.add("visible")})),window.addEventListener("unload",(()=>{i&&cancelAnimationFrame(i),t.forEach((e=>{e.cleanup&&e.cleanup()}))}))}));