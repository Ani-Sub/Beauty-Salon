document.addEventListener("DOMContentLoaded",(function(){const e=performance.now(),t=document.getElementById("bookingModal"),n=document.getElementById("bookButton"),o=document.getElementsByClassName("close")[0],r=document.querySelectorAll(".service-card");let c=0;function i(){t&&(t.style.display="none",document.body.style.overflow="auto")}n&&n.addEventListener("click",(function(){try{t.style.display="block",document.body.style.overflow="hidden"}catch(e){console.error("Error opening modal:",e),function(e,t="info"){try{if(c>=3)return;c++;const n=document.createElement("div");n.className=`notification ${t}`,n.textContent=e,e=e.replace(/[<>]/g,""),n.style.cssText=`\n                position: fixed;\n                top: 20px;\n                right: 20px;\n                padding: 15px 20px;\n                background: ${"success"===t?"#2ecc71":"error"===t?"#e74c3c":"#3498db"};\n                color: white;\n                border-radius: 5px;\n                z-index: 1001;\n                opacity: 0;\n                transform: translateX(100%);\n                transition: all 0.3s ease;\n            `,document.body.appendChild(n),n.offsetHeight,n.style.opacity="1",n.style.transform="translateX(0)",setTimeout((()=>{n.style.opacity="0",n.style.transform="translateX(100%)",setTimeout((()=>{document.body.removeChild(n),c--}),300)}),3e3)}catch(e){console.error("Error showing notification:",e)}}("Unable to open booking form. Please try again.","error")}})),o&&o.addEventListener("click",(function(){try{i()}catch(e){console.error("Error closing modal:",e),t&&(t.style.display="none",document.body.style.overflow="auto")}})),window.addEventListener("click",(function(e){try{e.target===t&&i()}catch(e){console.error("Error handling modal click:",e)}})),document.addEventListener("keydown",(function(e){try{"Escape"===e.key&&t&&"block"===t.style.display&&i()}catch(e){console.error("Error handling keydown:",e)}})),r.forEach((e=>{try{e.addEventListener("click",(function(e){try{if(this.classList.contains("clicked"))return;this.classList.add("clicked"),setTimeout((()=>{this.classList.remove("clicked")}),150);const e=this.querySelector(".service-title"),t=e?e.textContent:"Unknown Service";console.log(`Clicked on service: ${t}`)}catch(e){console.error("Error handling service card click:",e)}})),e.addEventListener("mouseenter",(function(){try{this.style.borderLeft="5px solid #9CAF88"}catch(e){console.error("Error handling mouseenter:",e)}})),e.addEventListener("mouseleave",(function(){try{this.style.borderLeft="none"}catch(e){console.error("Error handling mouseleave:",e)}}))}catch(e){console.error("Error setting up service card:",e)}}));const s={threshold:.1,rootMargin:"0px 0px -50px 0px"};let a;try{a=new IntersectionObserver((function(e){e.forEach((e=>{e.isIntersecting&&e.target.classList.add("animate-in")}))}),s),r.forEach((e=>{a.observe(e)}))}catch(e){console.error("Error setting up intersection observer:",e)}!function(){try{document.querySelectorAll(".service-card").forEach(((e,t)=>{e.style.opacity="0",e.style.transform="translateY(30px)",setTimeout((()=>{e.style.transition="all 0.6s ease",e.style.opacity="1",e.style.transform="translateY(0)"}),100*t)}))}catch(e){console.error("Error adding loading animation:",e),document.querySelectorAll(".service-card").forEach((e=>{e.style.opacity="1"}))}}();try{const e=document.createElement("style");e.textContent="\n            @keyframes float {\n                0%, 100% { transform: translateY(0px); }\n                50% { transform: translateY(-10px); }\n            }\n            \n            .animate-in {\n                animation: slideInFromLeft 0.6s ease-out;\n            }\n            \n            @keyframes slideInFromLeft {\n                from {\n                    opacity: 0;\n                    transform: translateX(-30px);\n                }\n                to {\n                    opacity: 1;\n                    transform: translateX(0);\n                }\n            }\n        ",document.head.appendChild(e)}catch(e){console.error("Error adding animation styles:",e)}!function(){try{document.querySelectorAll(".service-icon").forEach(((e,t)=>{e.style.animation=`float 3s ease-in-out infinite ${.2*t}s`}))}catch(e){console.error("Error adding floating animation:",e)}}();const l=function(e,t){let n;return function(...o){n||(e.apply(this,o),n=!0,setTimeout((()=>n=!1),t))}}((function(){try{const e=-.5*window.pageYOffset;document.body.style.backgroundPosition=`center ${e}px`}catch(e){console.error("Error updating parallax:",e)}}),100);window.addEventListener("scroll",l);try{const e=window.location.pathname.split("/").pop();document.querySelectorAll(".nav-links a, .footer-links a").forEach((t=>{const n=t.getAttribute("href");(n===e||""===e&&"index.html"===n||"Services.html"===e&&"Services.html"===n)&&t.classList.add("active")}))}catch(e){console.error("Error setting active navigation:",e)}const d=performance.now();console.log(`Services page initialization took ${d-e}ms`),window.addEventListener("unload",(()=>{try{window.removeEventListener("scroll",l),a&&a.disconnect(),document.querySelectorAll(".notification").forEach((e=>{document.body.removeChild(e)}))}catch(e){console.error("Error during cleanup:",e)}}))}));